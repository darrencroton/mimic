# Plotting Generated Code

**Auto-generated by:** `scripts/generate_properties.py`

**DO NOT EDIT** - Changes will be overwritten. Edit property YAML files instead.

---

## Generated Files

### `dtype.py`
NumPy dtype definitions for reading Mimic binary output files. Auto-generated from property metadata to ensure Python analysis code stays synchronized with C output format.

**Contains:**
- `get_binary_dtype()` - NumPy dtype for binary output format
- `get_hdf5_dtype()` - NumPy dtype for HDF5 output format
- Property field definitions matching C structs

**Regenerated when:**
- Property metadata changes (`metadata/*.yaml`)
- Running `make generate`
- Automatic during `make` if YAML changes

**Source metadata:**
- `metadata/halo_properties.yaml`
- `metadata/galaxy_properties.yaml`

**Used by:**
- `mimic-plot.py` - Main plotting script
- `hdf5_reader.py` - HDF5 file reader
- `tests/framework/data_loader.py` - Test data loading

---

### `__init__.py`
Python package initialization file (minimal or empty).

---

## How It Works

1. Property metadata is defined in YAML files
2. `scripts/generate_properties.py` generates C structs AND Python dtypes
3. Python code imports from `generated.dtype`
4. Binary output reading uses correct field types and offsets
5. Changes to properties auto-propagate to plotting code

---

## Metadata-Driven Architecture

This is part of Mimic's metadata-driven architecture (Vision Principle #3 and #7):
- **Single Source of Truth**: property YAML files
- **Format-Agnostic I/O**: Same metadata drives C and Python representations
- **Auto-Generated**: Python dtypes are derived, not canonical
- **Type Safety**: Ensures Python reads match C output exactly

See `docs/architecture/property-metadata-schema.md` for full specification.
